<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Chromatron</title>

        <link rel="stylesheet" type="text/css" href="./assets/css/style.css">

    </head>
    <body>
        <center>

            <h1>Chromatron</h1>
            <div id="instructions"></div>

            <script type="module" src="./assets/js/chromatron.js"></script>
            <script type="module">

                // Import CopyToClipboard, SceneChange, Animate, LoadCompareImage & SelectPixelColorFromImage
                import {CopyToClipboard} from './assets/js/chromatron.js';
                import {SceneChange} from './assets/js/chromatron.js';
                import {Animate} from './assets/js/chromatron.js';
                import {LoadCompareImage} from './assets/js/chromatron.js';
                import {SelectPixelColorFromImage} from './assets/js/chromatron.js';

                // Scene 0 - Main Menu
                SceneChange(0, 'Chromatron: MainMenu', 'Welcome, the Chromatron is here to help find your favorite color.');
                
                Animate(); // Start Animation

                // Expose exported functions to the page
                window.SceneChange = function(scene, title, instructions){
                    SceneChange(scene, title, instructions);
                }
                window.CopyToClipboard = function(){
                    CopyToClipboard();
                }
                window.LoadCompareImage = function(input, canvas){
                    LoadCompareImage(input, canvas);
                }
                window.SelectPixelColorFromImage = function(event, swatch_label){
                    SelectPixelColorFromImage(event, swatch_label);
                }
                
            </script>
        </center>

        <!-- Scene 0 -->
        <div id="MainMenu">    
            <center>
                <p class='instructions2'>Welcome, the Chromatron is here to help find favorite color.</p>
                <button id='selectCarouselOfColor' class='button' onclick="SceneChange(1, 'Chromatron: Carousel of Color', 'Select the color that seems closest to your favorite color')">Carousel of Color</button>
                <br/>
                <button id='selectCompareImageColors' class='button' onclick="SceneChange(5, 'Chromatron: Select Images', 'Select two Images and pick a color from each.')">Compare Colors in Images</button>
            </center>            
        </div>
        
        <!-- Scene 3 -->
        <button id='continueSwatchButtonHueGoingMyWay' class='button' onclick="SceneChange(4, 'Chromatron: Chro-my-goodness!!', 'Chro-my-goodness that\'s a great color!');">Some Colorful Content Here</button>
        
        <!-- Scene 4 -->
        <div id="ChroMyGoodness">

            <button id='gobackButtonChromygoodness' class='button' onclick="SceneChange(3, 'Chromatron: Hue Going My Way?', 'Adjust the color until it\'s perfect, click the swatch when you are done.')">&#x3c; Go Back</button>

            <button id='startOverButton' class='button' onclick="SceneChange(0, 'Chromatron: MainMenu', 'Welcome, the Chromatron is here to help find your favorite color.')">Main Menu</button>

            <center>
                <h1>Your Favorite Color</h1>
                <p class='instructions2'>Chro-my-goodness that's a nice color!</p>

                <canvas id="myFavoriteColor" style="border:1px solid #cccccc;"></canvas>

                <a id="downloadImageButton" class='button downloadImageButton'>Save Image</a>                
                <button id='copyToClipboardButton' class='button' onclick="CopyToClipboard()">Copy as Text</button>

            </center>
        </div>
        
        <!-- Scene 5 -->
        <div id="SelectImages">
            <center>
            <p class='instructions2'>Select two Images and pick a color from each.</p>
                    <button id='compareColorsButton' class='button' onclick="SceneChange(6, 'Chromatron: Juxtaposed Chro-my-goodness!!', 'Chro-my-goodness these are nice colors!')">Continue &#x3e;</button><br/>
        
                    <label>Image A:</label><br/><br/>
                    <input class='button' type="file" id="inputA" name="inputA" onchange='LoadCompareImage("inputA", "CanvasA")'/>
                    <canvas id="CanvasA" style='max-width:500px; max-height:320px;cursor: crosshair;' onclick="SelectPixelColorFromImage(event, 'inputA')"></canvas><br/>

                    <label>Image B:</label><br/><br/>
                    <input class='button' type="file" id="inputB" name="inputB" onchange='LoadCompareImage("inputB", "CanvasB")'/>
                    <canvas id="CanvasB" style='max-width:500px; max-height:320px;cursor: crosshair;' onclick="SelectPixelColorFromImage(event, 'inputB')"></canvas><br/>

            </center>        
        </div>
        
        <!-- Scene 6 -->
        <div id="JuxtaposedChroMyGoodness">

            <button id='gobackButtonJuxtaposedChroMyGoodness' class='button' onclick="SceneChange(5, 'Chromatron: Select Images', 'Select two Images and pick a color from each.')">&#x3c; Go Back</button>

            <button id='startOverButton' class='button' onclick="SceneChange(0, 'Chromatron: MainMenu', 'Welcome, the Chromatron is here to help find your favorite color.')">Main Menu</button>

            <center>
                <h1>Your Favorite Color</h1>
                <p class='instructions2'>Chro-my-goodness these are nice colors!</p>

                <canvas id="myFavoriteColors" style="border:1px solid #cccccc;"></canvas>

                <a id="downloadImageButton2" class='button downloadImageButton'>Save Image</a>                
                <button id='copyToClipboardButton' class='button' onclick="CopyToClipboard()">Copy as Text</button>

            </center>
        </div>

    </body>
</html>